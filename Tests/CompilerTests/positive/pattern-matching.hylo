//! stage:typing no-std

enum A<T> {
  case one()
  case two(x: sink T)
  case thr(_ y: sink T)
}

struct B<U> {
  public var u: U
  public memberwise init
}

fun check<T>(x: T) {}

public fun main() {
  let x = A<Void>.one()
  let y = match x {
    case .one() { B(u: ()) }
    case .two(sink let a) { B(u: a) }
    case .thr(y: sink let a) { B(u: a) }
  }
  check<B<Void>>(y)
}
